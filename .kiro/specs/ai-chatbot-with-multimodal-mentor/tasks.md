# Implementation Plan

- [x] 1. 프로젝트 초기 설정 및 기본 구조 생성
  - Next.js 프로젝트 생성 및 기본 설정
  - 필요한 패키지 설치 (React, SQLite, AI 라이브러리 등)
  - 프로젝트 폴더 구조 설정
  - _Requirements: 16.1_

- [x] 2. 데이터베이스 스키마 및 연결 설정
  - SQLite 데이터베이스 초기화 스크립트 작성
  - 데이터베이스 연결 유틸리티 구현
  - 기본 테이블 생성 (users, chat_sessions, messages, mentors 등)
  - _Requirements: 3.1, 3.2, 3.4_

- [x] 3. 기본 UI 컴포넌트 및 레이아웃 구현
  - 메인 레이아웃 컴포넌트 생성
  - 채팅 인터페이스 기본 구조 구현
  - 반응형 디자인 적용
  - _Requirements: 6.1, 6.4_

- [x] 4. LLM 서비스 통합 구현
- [x] 4.1 Ollama API 연동 서비스 구현
  - Ollama API 클라이언트 구현
  - 사용 가능한 모델 목록 조회 기능
  - 기본 텍스트 생성 API 구현
  - _Requirements: 1.1, 1.2_

- [x] 4.2 Google Gemini API 연동 서비스 구현
  - Google Gemini API 클라이언트 구현
  - 멀티모달 입력 처리 기능
  - API 키 관리 및 보안 설정
  - _Requirements: 1.1, 1.2, 2.2_

- [x] 4.3 LLM 서비스 통합 레이어 구현
  - 통합 LLM 서비스 클래스 구현
  - 모델 선택 및 전환 로직
  - 에러 처리 및 대체 모델 자동 전환
  - _Requirements: 1.3_

- [x] 5. 기본 채팅 기능 구현
- [x] 5.1 채팅 API 엔드포인트 구현
  - POST /api/chat 엔드포인트 구현
  - 메시지 저장 및 조회 로직
  - 세션 관리 기능
  - _Requirements: 3.1, 3.2_

- [x] 5.2 채팅 인터페이스 컴포넌트 구현
  - 메시지 입력 컴포넌트
  - 메시지 표시 컴포넌트
  - 실시간 타이핑 인디케이터
  - _Requirements: 6.2, 6.3_

- [x] 5.3 모델 선택 기능 구현
  - 모델 선택 드롭다운 컴포넌트
  - 모델별 설정 관리
  - 모델 전환 시 컨텍스트 유지
  - _Requirements: 1.1, 1.3_

- [x] 6. 멀티모달 입력 처리 구현
- [x] 6.1 이미지 업로드 및 처리 기능
  - 이미지 업로드 컴포넌트 구현
  - 이미지 전처리 및 최적화
  - Google Gemini를 통한 이미지 분석
  - _Requirements: 2.2, 2.4_

- [x] 6.2 음성 입력 처리 기능
  - 음성 녹음 컴포넌트 구현
  - Speech-to-Text 변환 서비스
  - 음성 파일 저장 및 관리
  - _Requirements: 2.3_

- [x] 7. 파일 업로드 및 문서 처리 시스템 구현
- [x] 7.1 파일 업로드 API 구현
  - 파일 업로드 엔드포인트 (/api/upload)
  - 파일 타입 검증 및 보안 처리
  - 파일 저장 및 메타데이터 관리
  - _Requirements: 11.2_

- [x] 7.2 문서 내용 추출 서비스 구현
  - PDF, DOCX, TXT 파일 파싱
  - 문서 내용 텍스트 추출
  - 문서 구조 분석 및 청킹
  - _Requirements: 11.2, 11.5_

- [x] 8. RAG (Retrieval-Augmented Generation) 시스템 구현
- [x] 8.1 벡터 임베딩 서비스 구현
  - 텍스트 임베딩 생성 서비스 (Transformers.js)
  - 벡터 데이터베이스 연동 (SQLite BLOB)
  - 문서 청크 임베딩 저장
  - _Requirements: 10.1_

- [x] 8.2 유사도 검색 기능 구현
  - 벡터 유사도 검색 알고리즘 (코사인 유사도)
  - 관련 문서 청크 검색 API
  - 검색 결과 랭킹 및 필터링
  - _Requirements: 10.2_

- [x] 8.3 RAG 기반 답변 생성 구현
  - 검색된 컨텍스트를 활용한 프롬프트 생성
  - 출처 정보 포함 답변 생성
  - 문서 기반 대화 모드 구현
  - _Requirements: 10.3, 10.4_

- [x] 9. 멘토 관리 시스템 구현
- [x] 9.1 멘토 CRUD API 구현
  - 멘토 생성, 조회, 수정, 삭제 API
  - 멘토 프로필 데이터 관리
  - 멘토 권한 및 공유 설정
  - _Requirements: 9.1, 9.4, 9.5_

- [x] 9.2 멘토 생성 인터페이스 구현
  - 멘토 생성 폼 컴포넌트
  - 성격 및 전문 분야 설정 UI
  - 시스템 프롬프트 편집기
  - _Requirements: 9.1, 9.2_

- [x] 9.3 멘토별 대화 컨텍스트 관리
  - 멘토 설정을 반영한 프롬프트 생성
  - 멘토별 대화 히스토리 분리
  - 개인화된 응답 생성 로직
  - _Requirements: 9.3, 5.2_

- [ ] 10. 커스텀 GPT 기능 구현
- [ ] 10.1 GPT 지식 베이스 관리
  - 파일 업로드 및 GPT 연결
  - 지식 베이스 벡터화 및 저장
  - GPT별 문서 관리 인터페이스
  - _Requirements: 9.2_

- [ ] 10.2 GPT 컨텍스트 활용 시스템
  - GPT별 지식 베이스 검색
  - 컨텍스트 기반 답변 생성
  - 지식 소스 인용 기능
  - _Requirements: 9.3_

- [ ] 11. 외부 콘텐츠 통합 기능 구현
- [ ] 11.1 유튜브 콘텐츠 처리 서비스
  - 유튜브 URL 파싱 및 메타데이터 추출
  - 자막 추출 및 텍스트 변환
  - 유튜브 콘텐츠 지식 베이스 추가
  - _Requirements: 14.2, 14.4_

- [ ] 11.2 웹페이지 스크래핑 서비스
  - 웹페이지 콘텐츠 추출
  - HTML 파싱 및 텍스트 정제
  - 웹 콘텐츠 지식 베이스 통합
  - _Requirements: 14.3, 14.4_

- [x] 12. MBTI 기반 멘토 시스템 구현
- [x] 12.1 MBTI 멘토 프리셋 구현
  - 16가지 MBTI 유형별 멘토 프로필 생성
  - MBTI 특성 기반 응답 스타일 정의
  - MBTI 선택 인터페이스 구현
  - _Requirements: 15.1, 15.2_

- [x] 12.2 MBTI 호환성 분석 기능
  - 사용자-멘토 MBTI 조합 분석
  - 상호작용 팁 제공 시스템
  - MBTI 기반 맞춤형 조언 생성
  - _Requirements: 15.4, 15.5_

- [x] 13. 아티팩트 시스템 구현




- [x] 13.1 아티팩트 생성 및 관리 API


  - 아티팩트 CRUD API 구현
  - 아티팩트 타입별 처리 로직
  - 아티팩트 메타데이터 관리
  - _Requirements: 12.1, 12.4_

- [x] 13.2 아티팩트 표시 및 편집 컴포넌트


  - 코드 구문 강조 컴포넌트
  - 마크다운 렌더링 컴포넌트
  - 실시간 편집 기능
  - _Requirements: 12.2, 12.3_

- [x] 13.3 차트 및 다이어그램 렌더링


  - Mermaid 다이어그램 렌더링
  - Chart.js 차트 생성
  - 시각화 데이터 처리
  - _Requirements: 12.5_

- [x] 14. 대화 히스토리 관리 시스템 구현
- [x] 14.1 히스토리 조회 및 관리 API
  - 대화 세션 목록 조회 API
  - 세션별 메시지 조회 API
  - 히스토리 검색 기능
  - _Requirements: 8.1, 8.3_

- [x] 14.2 히스토리 인터페이스 구현
  - 히스토리 목록 컴포넌트
  - 대화 세션 상세 보기
  - 검색 및 필터링 UI
  - _Requirements: 8.2_

- [ ] 14.3 히스토리 관리 기능 구현
  - 대화 세션 삭제 기능
  - 히스토리 내보내기 (JSON/텍스트)
  - 히스토리 백업 및 복원
  - _Requirements: 8.4, 8.5_

- [x] 15. 자동 멘토 생성 기능 구현



- [x] 15.1 대화형 멘토 생성 시스템


  - 멘토 생성 대화 플로우 구현
  - 사용자 응답 분석 및 프로필 생성
  - 자동 멘토 프로필 제안 시스템
  - _Requirements: 13.1, 13.2, 13.3_

- [x] 15.2 멘토 개선 및 학습 시스템



  - 사용자 피드백 수집 메커니즘
  - 멘토 특성 점진적 개선 로직
  - 멘토 성능 분석 및 최적화
  - _Requirements: 13.4, 13.5_

- [ ] 16. 룰 설정 시스템 구현
- [ ] 16.1 룰 관리 API 구현
  - 기본 룰 CRUD API
  - 룰 카테고리 관리
  - 임시 룰 설정 기능
  - _Requirements: 7.1, 7.3_

- [ ] 16.2 룰 설정 인터페이스 구현
  - 룰 설정 페이지 컴포넌트
  - 룰 카테고리별 설정 UI
  - 룰 미리보기 기능
  - _Requirements: 7.1_

- [ ] 16.3 룰 적용 시스템 구현
  - 프롬프트에 룰 통합 로직
  - 룰 우선순위 처리
  - 룰 기반 응답 일관성 보장
  - _Requirements: 7.2, 7.4_

- [ ] 17. MCP (Model Context Protocol) 통합
- [ ] 17.1 MCP 서버 연결 및 관리
  - MCP 서버 자동 연결 시스템
  - MCP 도구 목록 조회 및 관리
  - MCP 서버 상태 모니터링
  - _Requirements: 4.1_

- [ ] 17.2 MCP 도구 실행 시스템
  - MCP 도구 선택 및 실행 로직
  - 도구 실행 결과 처리
  - 에러 처리 및 대안 제시
  - _Requirements: 4.2, 4.4_

- [ ] 17.3 MCP 결과 표시 및 통합
  - MCP 실행 결과 UI 표시
  - 결과를 대화 컨텍스트에 통합
  - MCP 도구 사용 히스토리 관리
  - _Requirements: 4.3_

- [ ] 18. 보안 및 인증 시스템 구현
- [ ] 18.1 기본 인증 시스템 구현
  - 사용자 등록 및 로그인 API
  - JWT 토큰 기반 인증
  - 세션 관리 및 보안 설정
  - _Requirements: 3.4_

- [ ] 18.2 데이터 보안 및 암호화
  - 민감 데이터 암호화 구현
  - API 키 보안 관리
  - 파일 업로드 보안 검증
  - _Requirements: 3.4_

- [ ] 19. 성능 최적화 및 캐싱
- [ ] 19.1 응답 캐싱 시스템 구현
  - LLM 응답 캐싱 메커니즘
  - 벡터 검색 결과 캐싱
  - 정적 콘텐츠 캐싱 설정
  - _Performance optimization_

- [ ] 19.2 데이터베이스 최적화
  - 인덱스 최적화 및 쿼리 튜닝
  - 대용량 데이터 처리 최적화
  - 연결 풀링 및 트랜잭션 관리
  - _Performance optimization_

- [ ] 20. 테스트 구현
- [ ] 20.1 단위 테스트 작성
  - 서비스 로직 단위 테스트
  - 유틸리티 함수 테스트
  - React 컴포넌트 테스트
  - _Testing requirements_

- [ ] 20.2 통합 테스트 작성
  - API 엔드포인트 통합 테스트
  - 데이터베이스 연동 테스트
  - 외부 서비스 연동 테스트
  - _Testing requirements_

- [ ] 20.3 E2E 테스트 작성
  - 전체 사용자 플로우 테스트
  - 멀티모달 입력 테스트
  - 멘토 생성 및 대화 테스트
  - _Testing requirements_

- [ ] 21. 배포 및 운영 설정
- [ ] 21.1 프로덕션 빌드 설정
  - Next.js 프로덕션 빌드 최적화
  - 환경 변수 관리
  - Docker 컨테이너화 설정
  - _Deployment requirements_

- [ ] 21.2 모니터링 및 로깅 시스템
  - 애플리케이션 로깅 설정
  - 에러 모니터링 시스템
  - 성능 메트릭 수집
  - _Monitoring requirements_